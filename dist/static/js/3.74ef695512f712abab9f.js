webpackJsonp([3],{"5mc4":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("8+FI"),i={components:{},data:()=>({userInfo:[],school:[],tableData:[],ClassID:[],paging:!1,pages:0,head2:[],loading:!1,input:"",gradedata:[],gradedatacun:[],Gradedata:[],Classdata:[],subjectdata:[]}),created(){e.a.$on("getParam",t=>{this.head2=t});var t=JSON.parse(sessionStorage.getItem("subject")),a=JSON.parse(localStorage.getItem("userInfo"));this.userInfo=a,null==t?(this.loading=!0,this.school=JSON.parse(sessionStorage.getItem("school")),this.Gradedata=this.school[0],this.subjectdata=this.school[1],this.Classdata=this.school[2],0===this.school[2]?this.grade():this.beg()):(this.loading=!0,console.log("有点击"),this.school=JSON.parse(sessionStorage.getItem("subject")),this.Gradedata=this.school[0],this.subjectdata=this.school[1],this.Classdata=this.school[2],0===this.school[2]?this.grade():this.beg())},watch:{head2(){this.school=JSON.parse(sessionStorage.getItem("subject")),this.Gradedata=this.school[0],this.subjectdata=this.school[1],this.Classdata=this.school[2],0===this.school[1]?this.grade():this.beg()}},methods:{grade(){this.tableData=[],this.ClassID=[],this.gradedatacun=[],this.$get("/teacher/gradeStudentStudy?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata).then(t=>{if(console.log(t.data),0===t.data.list.length)this.loading=!1,0===t.data.pages&&(this.paging=!0);else{this.pages=t.data.pages,t.data.list.forEach((t,a)=>{this.tableData.push(t)}),console.log(this.gradedata);for(let t in this.gradedata)this.gradedata[t].forEach((t,a)=>{this.gradedatacun.push(t)}),console.log(this.gradedatacun),this.gradedatacun.forEach((t,a)=>{this.school[0]==t.GradeID&&this.ClassID.push(t.GradeName+"全部班级")});this.loading=!1}})},beg(){this.tableData=[],this.$get("teacher/studentStudy?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata+"&ClassID="+this.Classdata).then(t=>{console.log(t.data),0==t.data.list.length?(this.loading=!1,0===t.data.pages&&(this.paging=!0)):(this.pages=t.data.pages,this.ClassID=[],t.data.list.forEach((t,a)=>{this.tableData.push(t),this.ClassID.push(t.ClassID+"班")}),this.loading=!1)})},search(){this.tableData=[],0===this.school[1]?Number.isNaN(Number(this.input))?this.$get("teacher/gradeStudentStudyLike?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata+"&StudentName="+this.input).then(t=>{t.data.list.forEach((t,a)=>{this.tableData.push(t)})}):this.$get("teacher/gradeStudentStudyLike?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata+"&StudentID="+this.input).then(t=>{t.data.list.forEach((t,a)=>{this.tableData.push(t)})}):Number.isNaN(Number(this.input))?this.$get("/teacher/gradeStudentStudyLike?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata+"&ClassID="+this.Classdata+"&StudentName="+this.input).then(t=>{t.data.list.forEach((t,a)=>{this.tableData.push(t)})}):this.$get("/teacher/gradeStudentStudyLike?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata+"&ClassID="+this.Classdata+"&StudentID="+this.input).then(t=>{t.data.list.forEach((t,a)=>{this.tableData.push(t)})})},handleCurrentChange(t){this.tableData=[],this.loading=!0,0===this.school[1]?this.$get("/teacher/gradeStudentStudy?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata+"&pageNum="+t).then(t=>{0==t.data.length?this.loading=!1:(t.data.list.forEach((t,a)=>{this.tableData.push(t),this.ClassID.push(t.ClassID)}),this.loading=!1)}):this.$get("teacher/studentStudy?SchoolID="+this.userInfo.SchoolID+"&GradeID="+this.Gradedata+"&SubjectID="+this.subjectdata+"&ClassID="+this.Classdata+"&pageNum="+t).then(t=>{0==t.data.length?this.loading=!1:(t.data.list.forEach((t,a)=>{this.tableData.push(t),this.ClassID.push(t.ClassID)}),this.loading=!1)})},skip(t){this.$router.push({path:"classman",query:{StudentID:t}})}}},h={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"detailshead"},[s("ul",[s("ul",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"detailsheadbox",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.5)","element-loading-text":"正在拼命更新数据"}},[s("li",[t._v("\n          正在查看\n      ")]),t._v(" "),s("li",{staticStyle:{color:"#ebb563"}},[t._v("\n            "+t._s(this.ClassID[0])+"   \n      ")]),t._v(" "),s("li",[t._v("\n          学生情况\n      ")])]),t._v(" "),s("el-input",{staticClass:"detailsheadone",attrs:{placeholder:"请输入内容",clearable:""},model:{value:t.input,callback:function(a){t.input=a},expression:"input"}}),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),s("hr"),t._v(" "),s("li",{staticClass:"detailsheadtwo"},t._l(t.tableData,function(a){return s("ul",{key:a.id,on:{click:function(s){t.skip(a.StudentID)}}},[t._m(0,!0),t._v(" "),s("div",{staticClass:"detailsheadtowhove"},[s("li",[t._v("\n                "+t._s(a.StudentName)+"\n                "+t._s(a.StudentID)+"\n            ")])])])})),t._v(" "),s("li",{staticClass:"detailsheadtwo1"}),t._v(" "),s("el-pagination",{attrs:{disabled:t.paging,layout:"prev, pager, next","page-count":t.pages},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("img",{attrs:{src:s("z2j4"),alt:""}})])}]};var l=s("VU/8")(i,h,!1,function(t){s("N8/8")},null,null);a.default=l.exports},"N8/8":function(t,a){},z2j4:function(t,a,s){t.exports=s.p+"static/img/pupillogo.f6bb4f6.png"}});