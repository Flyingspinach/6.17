webpackJsonp([19],{Szqu:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={created(){var e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("user1"));null===e||(this.ruleForm.LoginMobile=e,this.value=t)},data:function(){return{loading:!1,ruleForm:{type:"",LoginMobile:"",Passwd:""},rules:{LoginMobile:[{required:!0,message:"请输入用户名",trigger:"blur"}],Passwd:[{required:!0,message:"请输入密码",trigger:"blur"}]},options:[{value:1,label:"家长"},{value:2,label:"老师"}],value:""}},methods:{submitForm(e){this.loading=!0,localStorage.setItem("user",JSON.stringify(this.ruleForm.LoginMobile)),1==this.value?(this.loading=!1,this.$post("login/parent_login",{LoginMobile:this.ruleForm.LoginMobile,Passwd:this.ruleForm.Passwd}).then(e=>{0===e.code?(localStorage.setItem("userInfo",JSON.stringify(e.data)),localStorage.setItem("token",e.data.token),this.$router.push("/index")):this.$message.error(e.msg),this.loading=!1})):this.$post("login/teac_login",{LoginMobile:this.ruleForm.LoginMobile,Passwd:this.ruleForm.Passwd}).then(e=>{0===e.code?(localStorage.setItem("userInfo",JSON.stringify(e.data)),this.$router.push("/learning")):this.$message.error(e.msg),this.loading=!1})},typeChange(e){this.ruleForm.LoginMobile="",this.ruleForm.Passwd="",localStorage.setItem("user1",JSON.stringify(e))}}},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"login-wrap",attrs:{"element-loading-text":"登录中"}},[l("vue-particles",{attrs:{color:"#dedede",particleOpacity:5,particlesNumber:80,shapeType:"circle",particleSize:4,linesColor:"#66ffff",linesWidth:1,lineLinked:!0,lineOpacity:.4,linesDistance:200,moveSpeed:7,hoverEffect:!0,hoverMode:"grab",clickEffect:!0,clickMode:"push"}}),e._v(" "),l("div",{staticClass:"ms-login clearfix"},[l("div",{staticClass:"ms-login-left"}),e._v(" "),l("div",{staticClass:"ms-login-right"},[l("div",{staticClass:"login-title"},[e._v("登录")]),e._v(" "),l("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"0px"}},[l("el-form-item",{attrs:{prop:"type"}},[l("el-select",{staticClass:"login-input",attrs:{placeholder:"选择角色"},on:{change:e.typeChange},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),l("i",{staticClass:"el-input__icon el-icon-lx-group"})],1),e._v(" "),l("el-form-item",{attrs:{prop:"LoginMobile"}},[l("el-input",{staticClass:"login-input",attrs:{placeholder:"用户名"},model:{value:e.ruleForm.LoginMobile,callback:function(t){e.$set(e.ruleForm,"LoginMobile",t)},expression:"ruleForm.LoginMobile"}},[l("i",{staticClass:"el-input__icon el-icon-lx-people",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),l("el-form-item",{attrs:{prop:"Passwd"}},[l("el-input",{staticClass:"login-input",attrs:{type:"password",placeholder:"请输入密码","show-password":""},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.submitForm("ruleForm")}},model:{value:e.ruleForm.Passwd,callback:function(t){e.$set(e.ruleForm,"Passwd",t)},expression:"ruleForm.Passwd"}},[l("i",{staticClass:"el-input__icon el-icon-lx-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),e._v(" "),l("div",{staticClass:"login-btn"},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("登录")])],1)],1)],1)])],1)},staticRenderFns:[]},o=l("VU/8")(i,s,!1,null,null,null);t.default=o.exports}});